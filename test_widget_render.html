<!DOCTYPE html>
<html>
<head>
    <title>Test Django-Ace Widget Features</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.2/ace.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.2/keybinding-vim.js"></script>
    <style>
        .editor-container {
            margin: 20px;
            padding: 20px;
            border: 1px solid #ccc;
        }
        .ace-editor {
            width: 600px;
            height: 300px;
            border: 1px solid #ddd;
        }
        /* Testing the padding fix */
        .ace-editor .ace_scroller {
            padding-top: 4px;
        }
    </style>
</head>
<body>
    <h1>Testing Django-Ace New Features</h1>
    
    <div class="editor-container">
        <h2>Editor with Vim Keybindings</h2>
        <p>Press 'i' to enter insert mode, 'ESC' to exit</p>
        <div id="editor1" class="ace-editor"></div>
    </div>

    <div class="editor-container">
        <h2>Editor without Active Line Highlight</h2>
        <div id="editor2" class="ace-editor"></div>
    </div>

    <script>
        // Test 1: Vim keybindings
        var editor1 = ace.edit("editor1");
        editor1.setTheme("ace/theme/monokai");
        editor1.session.setMode("ace/mode/python");
        editor1.setKeyboardHandler("ace/keyboard/vim");
        editor1.setValue("# Vim mode enabled\n# Press 'i' to start typing\n# Press 'ESC' to enter command mode\n# Try vim commands like 'dd', 'yy', 'p'", -1);
        
        // Test 2: No active line highlight
        var editor2 = ace.edit("editor2");
        editor2.setTheme("ace/theme/twilight");
        editor2.session.setMode("ace/mode/javascript");
        editor2.setHighlightActiveLine(false);
        editor2.setValue("// This editor has highlight active line disabled\n// Move cursor around to verify", -1);
        
        console.log("Editor 1 keyboard handler:", editor1.getKeyboardHandler());
        console.log("Editor 2 highlight active line:", editor2.getHighlightActiveLine());
    </script>
</body>
</html>